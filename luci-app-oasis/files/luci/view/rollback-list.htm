<%+header%>

<link rel="stylesheet" type="text/css" href="<%= resource %>/oasis/css/rollback-list.css">

<div id="loadingOverlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background-color: rgba(0,0,0,0.6); z-index:1000; color:white; font-weight:600; justify-content:center; align-items:center; text-align:center;">
    <div class="overlay-content">
        <div class="overlay-message">
            Rollback has been executed. You can access the UI again once the system has fully restarted
            <span class="dots"><span>.</span><span>.</span><span>.</span></span>
        </div>
        <div class="overlay-progress"></div>
    </div>
</div>

<div id="rollback-toast" role="status" aria-live="polite" class="toast" aria-atomic="true"></div>

<div class="rollback-list" id="rollbackContainer"></div>

<!-- Confirm modal -->
<div id="rollback-confirm" class="confirm-modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="confirm-card">
    <p>Would you like to execute the rollback?</p>
    <div class="form-actions">
        <button type="button" class="load-button" id="confirmOk">Yes</button>
        <button type="button" class="delete-button" id="confirmCancel">No</button>
    </div>
  </div>
</div>

<script>
window.OasisRollbackConfig = {
    urls: {
        loadRollbackList: '<%=build_url("admin", "network", "oasis", "load-rollback-list")%>',
        rollbackTarget: '<%=build_url("admin", "network", "oasis", "rollback-target-data")%>'
    }
};
</script>
<script src="<%= resource %>/oasis/js/rollback.js"></script>
<%+footer%>